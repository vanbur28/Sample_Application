# docker-compose.yml
version: "3.3"

services:
  web:
    build:
      context: .
    ports:
      - 80:80
    volumes:
      - ./:/app

  mysqldb:
    image: mysql
    ports:
      - 443:443
    environment:
      - MYSQL_ROOT_PASSWORD=p@ssw0rd1
    volumes:
      - mysql:/var/lib/mysql
      - mysql_config:/etc/mysql

services:
  letsencrypt-nginx-container:
      container_name: 'letsencrypt-nginx-container'
      image: nginx:latest
      ports:
        - "80:80"
      volumes:
        - ./nginx.conf:/etc/nginx/conf.d/default.conf
      networks:
        - docker-network
  networks:
    docker-network:
      driver: bridge

volumes:
  mysql:
  mysql_config:
